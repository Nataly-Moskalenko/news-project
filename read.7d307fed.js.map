{"mappings":"YAAA,IAAMA,EAAmB,WACLC,SAASC,cAAc,oBAC/BC,iBAAiB,SAEd,SAAuBC,GACpC,GAA0B,SAAtBA,EAAEC,OAAOC,SACX,OAGFF,EAAEC,OAAOE,UAAUC,OAAO,YAErBC,aAAaC,QAAQV,IACxBS,aAAaE,QAAQX,EAAkB,MAGzC,IAAIY,EAAeC,KAAKC,MAAML,aAAaC,QAAQV,IAE7Ce,EACJX,EAAEC,OAAOW,WAAWA,WAAWA,WAAWA,WAAWA,WAEjDC,EAAe,CACnBC,GAAIH,EAAQG,GACZC,YAAa,uBACbC,SAAUL,EAAQM,kBAAkBA,kBAAkBC,IACtDC,SAAUR,EAAQM,kBAAkBA,kBAAkBG,IACtDC,aACEV,EAAQM,kBAAkBA,kBAAkBK,mBACzCC,YACLC,MAAOb,EAAQM,kBAAkBK,mBAAmBC,YACpDE,UACEd,EAAQe,iBAAiBC,uBAAuBA,uBAC7CJ,YACLK,KAAMjB,EAAQe,iBAAiBC,uBAAuBJ,YACtDM,IAAKlB,EAAQe,iBAAiBI,MAG3BtB,EAAauB,MAAK,SAAAC,G,OAAQA,EAAKlB,KAAOD,EAAaC,E,MACtDN,EAAayB,KAAKpB,GAClBR,aAAaE,QAAQX,EAAkBa,KAAKyB,UAAU1B,KAGxD,GAAIR,EAAEC,OAAOE,UAAUgC,SAAS,YAC9BnC,EAAEC,OAAOmC,cAAcA,cAAcT,uBAAuBJ,YAC1D,uBACFvB,EAAEC,OAAOE,UAAUkC,IAAI,qBACvBrC,EAAEC,OAAOE,UAAUmC,OAAO,mBACrB,CACLtC,EAAEC,OAAOmC,cAAcA,cAAcT,uBAAuBJ,YAC1D,kBACFvB,EAAEC,OAAOE,UAAUmC,OAAO,qBAC1BtC,EAAEC,OAAOE,UAAUkC,IAAI,eACvB,IAAME,EAAY/B,EAAagC,WAC7B,SAAAR,G,OAAQA,EAAKlB,KAAOD,EAAaC,E,IAEnCN,EAAaiC,OAAOF,EAAW,GAC/BlC,aAAaE,QAAQX,EAAkBa,KAAKyB,UAAU1B,G,CAGxD,OAAOA,C","sources":["src/js/add-to-favorite-from-read.js"],"sourcesContent":["const LOCALSTORAGE_KEY = 'favorite';\nconst galleryRead = document.querySelector('.read__container');\ngalleryRead.addEventListener('click', addToFavorite);\n\nexport default function addToFavorite(e) {\n  if (e.target.nodeName !== 'path') {\n    return;\n  }\n\n  e.target.classList.toggle('favorite');\n\n  if (!localStorage.getItem(LOCALSTORAGE_KEY)) {\n    localStorage.setItem(LOCALSTORAGE_KEY, '[]');\n  }\n\n  let favoriteNews = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n\n  const favCard =\n    e.target.parentNode.parentNode.parentNode.parentNode.parentNode;\n\n  const favoriteCard = {\n    id: favCard.id,\n    cardFavText: 'Remove from favorite',\n    mediaUrl: favCard.firstElementChild.firstElementChild.src,\n    mediaAlt: favCard.firstElementChild.firstElementChild.alt,\n    newsCategory:\n      favCard.firstElementChild.firstElementChild.nextElementSibling\n        .textContent,\n    title: favCard.firstElementChild.nextElementSibling.textContent,\n    subscribe:\n      favCard.lastElementChild.previousElementSibling.previousElementSibling\n        .textContent,\n    date: favCard.lastElementChild.previousElementSibling.textContent,\n    url: favCard.lastElementChild.href,\n  };\n\n  if (!favoriteNews.find(card => card.id === favoriteCard.id)) {\n    favoriteNews.push(favoriteCard);\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(favoriteNews));\n  }\n\n  if (e.target.classList.contains('favorite')) {\n    e.target.parentElement.parentElement.previousElementSibling.textContent =\n      'Remove from favorite';\n    e.target.classList.add('card__heart--fill');\n    e.target.classList.remove('card__heart');   \n  } else {\n    e.target.parentElement.parentElement.previousElementSibling.textContent =\n      'Add to favorite';\n    e.target.classList.remove('card__heart--fill');\n    e.target.classList.add('card__heart');\n    const indexCard = favoriteNews.findIndex(\n      card => card.id === favoriteCard.id\n    );\n    favoriteNews.splice(indexCard, 1);\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(favoriteNews));\n  } \n\n  return favoriteNews;\n}\n"],"names":["$818af61b350b9310$var$LOCALSTORAGE_KEY","document","querySelector","addEventListener","e","target","nodeName","classList","toggle","localStorage","getItem","setItem","favoriteNews","JSON","parse","favCard","parentNode","favoriteCard","id","cardFavText","mediaUrl","firstElementChild","src","mediaAlt","alt","newsCategory","nextElementSibling","textContent","title","subscribe","lastElementChild","previousElementSibling","date","url","href","find","card","push","stringify","contains","parentElement","add","remove","indexCard","findIndex","splice"],"version":3,"file":"read.7d307fed.js.map"}